<% provide(:title, "3D") %>

<div class="container text-center">
  <div class="row three-d">
    <% @works.three_d.rank(:row_order).each do |work| %>
      <div class="col-3 three-d-work" >
        <%= link_to image_tag(work.image), work.image.url, 'data-title': "<p><br /><span style='font-family: latohairline_italic'>#{work.title}</span>,   #{ work.year.year}      #{work.medium}      #{work.dimensions}</p>", class: 'img-fluid' %> 
      </div>
    <% end %>
  </div>
</div> 

<script>

$(document).ready(function() {
  $('.img-fluid').magnificPopup({
    // Delay in milliseconds before popup is removed
    removalDelay: 300,

    // Class that is added to popup wrapper and background
    // make it unique to apply your CSS animations just to this exact popup
    mainClass: 'mfp-fade',
    // main options
    showCloseBtn: false,
    closeOnContentClick: true,
    type: 'image',
    gallery:{
      enabled:true
    },
    image: {
      titleSrc: 'data-title',
      markup: '<div class="mfp-figure">'+
            '<div class="mfp-img"></div>'+
            '<div class="mfp-bottom-bar">'+
              '<div class="mfp-title"></div>'+
            '</div>'+
          '</div>', // Popup HTML markup. `.mfp-img` div will be replaced with img tag, `.mfp-close` by close button
      
      cursor: null
    }
  });
});

</script>